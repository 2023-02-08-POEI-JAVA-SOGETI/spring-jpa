<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Utilisateurs Index</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" 	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 	crossorigin="anonymous">
</head>
<body>
	<div class='container'>
		<div class='row mt-5'>
			<div class='col'>
				<a class="btn btn-secondary" href="/spring-jpa/fournisseurs">Interface fournisseurs</a>
				<a class="btn btn-secondary" href="/spring-jpa/clients">Interface clients</a>
				<a class="btn btn-secondary" href="/spring-jpa/articles">Interface articles</a>
			</div>
		</div>
		<div class='row mt-5'>
			<div class='col'>
				<h1>Liste des utilisateurs</h1>
			</div>
		</div>
		<div class='row my-5'>
			<div class='col'>
				<a class="btn btn-success" th:href="@{/utilisateur/new}">Nouvel utilisateur</a>
			</div>
		</div>
		<div class='row'>
			<div class='col'>
				<table class="table table-striped table-bordered">
				  <thead>
				    <tr>
				      <th scope="col">ID</th>
				      <th scope="col">Nom</th>
				      <th scope="col">Prénom</th>
				      <th scope="col">Email</th>
				      <th scope="col">Login</th>
				      <th scope="col">Modifier</th>
				      <th scope="col">Supprimer</th>
				    </tr>
				  </thead>
				  <tbody th:if="${!isUtilisateursListEmpty}">
				    <tr th:each="utilisateur : ${listUtilisateurs}">
				      <td><a th:href="@{/utilisateur/{id}(id=${utilisateur.id})}" th:text="${utilisateur.id}"></a></td>
				      <td><a th:href="@{/utilisateur/{id}(id=${utilisateur.id})}" th:text="${utilisateur.nom}"></a></td>
				      <td><a th:href="@{/utilisateur/{id}(id=${utilisateur.id})}" th:text="${utilisateur.prenom}"></a></td>
				      <td><a th:href="@{/utilisateur/{id}(id=${utilisateur.id})}" th:text="${utilisateur.email}"></a></td>
				      <td><a th:href="@{/utilisateur/{id}(id=${utilisateur.id})}" th:text="${utilisateur.login}"></a></td>
				      <td><a class='btn btn-primary' th:href="@{/utilisateur/{id}/edit(id=${utilisateur.id})}">Modifier</a></td>
				      <td>
				      	<form method="POST" th:action="@{/utilisateur/{id}/delete(id=${utilisateur.id})}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cet utilisateur ?');">
    						<button type="submit" class="btn btn-danger">Supprimer</button>
						</form>
					  </td>
				    </tr>
				  </tbody>
				  <tbody th:if="${isUtilisateursListEmpty}">
				    <tr>
				      <td colspan="7"><div class="alert alert-danger" role="alert">Il n'y a pas d'utilisateurs pour le moment, veuillez en ajouter depuis votre interface !</div></td>
				    </tr>
				  </tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>